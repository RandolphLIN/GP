<html>
    <head>
    <meta charset="utf-8">
    <title>2d skatepark</title>
        <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="text/default.css"/>
    <!-- Scripts -->
     <!-- <script src="js/default.js"></script> -->  <!--点击  测试-->
    <script src="js/parallax.js"></script>
<!-- 导航条 -->
    <link rel="stylesheet" href="navi/jquery.sidr.dark.css">
    <!-- Your CSS -->
    <link rel="stylesheet" href="navi/style.css">
<!-- 导航条 -->
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<!-- test -->
<script type="text/javascript" src="text/highslide-with-html.js"></script>
<link rel="stylesheet" type="text/css" href="text/highslide.css" />

        <style type="text/css">
        body{
            background-color: #000000;
            width: 100%;
            height: 100%;
        }
            #animbg{
                background-image: url(guochang2.jpg);
                width:100%;
                height:100%;
                background-size:cover;
                background-repeat: no-repeat;
                margin: -0.5%;
                z-index: 980;
                position: absolute;
                top: 0;
            }
            #btn{                   /*  按钮图片  */
                position: absolute;
                z-index: 980;
                left: 80%;
                top: 70%;
                width:56px;
                height:56px;

            }
            #btnN{                   /*  按钮图片  */
                position: absolute;
                z-index: 990;
                left: 80%;
                top: 70%;
                width:56px;
                height:56px;
            }
            #btn2{
            width: 5%;
            position: absolute;
            margin-top:16%;
            left:21%;
            }

            #btn3{
            width: 3%;
            position: absolute;
            margin-top:21%;
            left:58%;
            }

            #Rotation {
            position: absolute;
            width: 100%;
            height: 100%;
            background: url(img/popUp.png) no-repeat center center;
            background-color: rgba(39,39, 39,1);
            transform-style: preserve-3d;
            z-index:999;
            }
        @media all and (orientation: landscape) {
            #Rotation {
                display: none;
            }
        }
        @media all and (orientation: portrait) {
            #Rotation {
                display: block;
            }
        }
        .highslide1,.highslide2,.highslide3{
            z-index: 80;
            padding-top: 0;             /* 结束继承 */
        }
        .highslide1{
                margin-top:24%;
                left: 33%;
        }
        .highslide2{
                margin-top:28%;
                left: 80%;
        }
        .highslide3{
                margin-top:35%;
                left: 7%;
        }

        </style>
 
<script type="text/javascript">
    hs.graphicsDir = 'highslide/graphics/';         
    hs.outlineType = 'rounded-white';
</script>

</head>
<body onload="play()">
<div id="Rotation"></div>

        <a href="#" onclick="return hs.htmlExpand(this, { contentId: 'highslide-html' } )"
            class="highslide1">
        <img src="img/s3_btn3.png">
        </a>
        <a href="#" onclick="return hs.htmlExpand(this, { contentId: 'highslide-html2' } )"
            class="highslide2">
        <img src="img/s3_btn2.png">
        </a>        
        <a href="#" onclick="return hs.htmlExpand(this, { contentId: 'highslide-html3' } )"
            class="highslide3">
        <img src="img/s2_btn3.png">
        </a>


<script type="text/javascript">

function s(){
var img1 =document.getElementById('btnN');
img1.addEventListener('mouseup', function(event){
document.getElementById('btnN').src="img/next.png";
console.log('up');
if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
    window.location.href = "animation.html";
} else {
    window.location.href = "index02.html";
}

// window.location.assign("default3.html");
},false);
img1.addEventListener('mousedown', function(event){
document.getElementById('btnN').src="img/next1.png";
console.log('down');
},false);};

function t(){
var img1 =document.getElementById('btnN');
img1.addEventListener('touchend', function(event){
document.getElementById('btnN').src="img/next.png";
console.log('up');
if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
    window.location.href = "animation.html";
} else {
    window.location.href = "index02.html";
}

// window.location.assign("default3.html");
},false);
img1.addEventListener('touchstart', function(event){
document.getElementById('btnN').src="img/next1.png";
console.log('down');
},false);};
</script>

<!-- 音乐 -->
<!-- <audio src="wave2.mp3" autoplay="autoplay" loop="loop"> -->
<audio id='media' src="Hit The Ground (Superman)_The Big Pink.mp3" autoplay="autoplay" loop="loop">           <!--仅解决微信上的问题-->
<script type="text/javascript">
document.addEventListener("WeixinJSBridgeReady", function () { 
      document.getElementById('media').play(); 
}, false);</script>       
Your browser does not support the audio element.
</audio>
<!-- 音乐 -->





  <!-- 导航条2 -->
       <div id="sidr">
      <ul>
        <li class="active" ><a href="index.html">index</a></li>
        <li><a href="default2.html">origin</a></li>
        <li><a href="default3.html">skatepark(2d)</a></li>
        <li><a href="equipment.html">equipment</a></li>
        <li><a id="skatepark">3d skatepark</a></li>
        <li><a id="close-menu-button" href="#">Close menu</a></li>
      </ul>
    </div>
<script type="text/javascript">

    sk1();
    sk2();


function sk1(){
var skpark =document.getElementById('skatepark');
skpark.addEventListener('mouseup', function(event){

if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
    window.location.href = "animation.html";
} else {
    window.location.href = "index02.html";
}

},false);
skpark.addEventListener('mousedown', function(event){

},false);};

function sk2(){
var skpark =document.getElementById('skatepark');
skpark.addEventListener('touchend', function(event){

if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
    window.location.href = "animation.html";
} else {
    window.location.href = "index02.html";
}
},false);
skpark.addEventListener('touchstart', function(event){

},false);};
</script>       

    <div id="overlay"></div>

    <a id="simple-menu" class="menu-button1" href="#sidr">btn</a>
<!-- 导航条2 -->
<div id="container" class="container">


<div class="info"> 

                <img id="btn2" src="img/s3_btn1.png">

<div class="highslide-html-content1" id="highslide-html">
    <div class="highslide-header">
        <ul>
            <li class="highslide-move">
                <a href="#" onclick="return false">Move</a>
            </li>
            <li class="highslide-close">
                <a href="#" onclick="return hs.close(this)">Close</a>
            </li>
        </ul>
    </div>
    <div class="highslide-body">
1
    </div>
    <div class="highslide-footer">
        <div>
            <span class="highslide-resize" title="Resize">
                <span></span>
            </span>
        </div>
    </div>
</div>

<div class="highslide-html-content1" id="highslide-html2">
    <div class="highslide-header">
        <ul>
            <li class="highslide-move">
                <a href="#" onclick="return false">Move</a>
            </li>
            <li class="highslide-close">
                <a href="#" onclick="return hs.close(this)">Close</a>
            </li>
        </ul>
    </div>
    <div class="highslide-body">

2
    </div>
    <div class="highslide-footer">
        <div>
            <span class="highslide-resize" title="Resize">
                <span></span>
            </span>
        </div>
    </div>
</div>

<div class="highslide-html-content1" id="highslide-html3">
    <div class="highslide-header">
        <ul>
            <li class="highslide-move">
                <a href="#" onclick="return false">Move</a>
            </li>
            <li class="highslide-close">
                <a href="#" onclick="return hs.close(this)">Close</a>
            </li>
        </ul>
    </div>
    <div class="highslide-body">
3
    </div>
    <div class="highslide-footer">
        <div>
            <span class="highslide-resize" title="Resize">
                <span></span>
            </span>
        </div>
    </div>
</div>


</div>  <!--info-->
    <div class="three">
            <ul id="scene3" class="scene3">
            <!-- <li class="layer" data-depth="1.00"><img src=""></li>-->   <!--不许上下移动--> 
            <li class="layer" data-depth="0.6"><img class="img4" src="img\scene3\layout2.jpg"></li>
                <li class="layer" data-depth="0.3"><img class="img4" src="img\scene3\s3_ground.png"></li>
                <li class="layer" data-depth="0.3"><img class="img4" src="img\scene3\s3_bowl.png"></li>
                <li class="layer" data-depth="0.3"><img class="img4" src="img\scene3\skater2.png"></li>
                <li class="layer" data-depth="0.4"><img class="img4" src="img\scene3\s3_b2.png"></li>
                <li class="layer" data-depth="0.4"><img class="img4" src="img\scene3\s3_AB.png"></li>
                <li class="layer" data-depth="0.4"><img class="img4" src="img\scene3\s3_FB.png"></li>
                <li class="layer" data-depth="0.45"><img class="img4" src="img\scene3\s3_b.png"></li>
                <li class="layer" data-depth="0.45"><img class="img4" src="img\scene3\s3_skater2.png"></li>
                <li class="layer" data-depth="0.3"><img class="img4" src="img\scene3\s3_skater.png"></li>
                <li class="layer" data-depth="0.3"><img class="img4" src="img\scene3\skater2.png"></li>                
        </ul>
        <!-- <button onclick="removeDiv()">change</button> -->
    </div>
    </div> <!--container-->
    <script type="text/javascript">
        var scene3 = document.getElementById('scene3');
        var parallax2 = new Parallax(scene3);
    </script>
<script type="text/javascript">

    u();
    v();


function u(){
var img1 =document.getElementById('btn2');
img1.addEventListener('mouseup', function(event){

document.getElementById('btn2').src="img/s3_btn1.png";

    window.location.href = "equipment.html";

},false);
img1.addEventListener('mousedown', function(event){

document.getElementById('btn2').src="img/s3_btn1.png";
},false);};

function v(){
var img1 =document.getElementById('btn2');
img1.addEventListener('touchend', function(event){


document.getElementById('btn2').src="img/s3_btn1.png";

    window.location.href = "equipment.html";


},false);
img1.addEventListener('touchstart', function(event){

document.getElementById('btn2').src="img/s3_btn1.png";
},false);};
</script>
        <div id="animbg"></div>
                <script type="text/javascript">
        (function(window){
            window.frameAnimation = {
                anims:(function(){

                    return function(obj,height,steps,eachtime,times, callback){
                        var runing = false;
                        var handler = null;         //obj,width,steps,eachtime,times定时器
                        var step = 0;       //当前帧
                        var time = 0;       //当前第几轮
                        var speed = eachtime*4000/steps;      //间隔时间

                        height = document.body.clientWidth *1080/1920;

                        console.log(height);
                        var oneStepheight = height;
                        
                        function _play(){
                            if(step >= steps){
                                    step = 4;   
                                     $("#btn").remove();
                                    $("body").append("<img src='img/next.png' id='btn' alt='' />");
                                    
                                    w();
                                    r();
                                function w(){
                                var img1 =document.getElementById('btn');
                                img1.addEventListener('mouseup', function(event){
                                document.getElementById('btn').src="img/next.png";
                                console.log('up');

                                document.getElementById('animbg').style.display="none";
                                $("body").append("<img src='img/next.png' id='btnN' alt='' />");
                                s();
                                t();


                                // window.location.assign("default3.html");
                                },false);
                                img1.addEventListener('mousedown', function(event){
                                document.getElementById('btn').src="img/next1.png";
                                console.log('down');
                                },false);};

                                function r(){
                                var img1 =document.getElementById('btn');
                                img1.addEventListener('touchend', function(event){
                                document.getElementById('btn').src="img/next.png";
                                console.log('up');

                                document.getElementById('animbg').style.display="none";
                                $("body").append("<img src='img/next.png' id='btnN' alt='' />");
                                s();
                                t();
                                // window.location.assign("default3.html");
                                },false);
                                img1.addEventListener('touchstart', function(event){
                                document.getElementById('btn').src="img/next1.png";
                                console.log('down');
                                },false);};

                                    // time++;         //循环
                                    //window.location.assign("default2.html");
                            }
                            if(0 == times || time <times){
                                obj.css('background-position',  '0 '+ -oneStepheight * step);
                                step++;

                            }
                            else{
                                control.stop();
                                callback && callback();
                            }
                        }

                     // window.onresize = function(){
                     // height = document.body.clientWidth *1080/1920;
                     //  }   
                        
                        var control = {
                            start:function(){
                                if(!runing){
                                    runing = true;
                                    step = time = 0;
                                    handler = setInterval(_play, speed);
                                }
                                return this;
                            }
                          
                            ,stop:function(restart){
                                if(runing){
                                    runing = false;
                                    if(handler){
                                        clearInterval(handler);
                                        handler = null;
                                    }
                                    if(restart){
                                        obj.css('background-position', '0 0');           
                                        step = 0;
                                        time = 0;
                                    }
                                }
                            }
                            ,dispose:function(){
                                this.stop();
                                //console.log('anim dispose');
                            }
                        };
                        return control;
                    }
                })()
            }
        })(window);

        function play(){
            var anim = frameAnimation.anims($('#animbg'),5400,5,1,0);
            anim.start();
        }
        // function skip(){
        //     window.location.assign("default3.html");
        // }
        window.onresize = function(){
        if(document.getElementById('animbg').style.display!="none"){
            $("#animbg").remove();
            $("body").append("<div id='animbg'></div>");
            play();
        }
        else {
            document.getElementById('animbg').style.display="none";
        }
        }        
        
    </script>


<!-- 导航条3 -->
    <script src="navi/jquery.sidr.js"></script>

    <!-- Your code -->
    <script>

    $(document).ready(function() {
      $('#simple-menu').sidr({
        displace: false
      });
    });

    $('#overlay, #close-menu-button').click(function () {
      $.sidr('close', 'sidr');
    });

    </script>
<!-- 导航条3 -->
        <!-- <script type="text/javascript"> 
        window.onresize = function(){
        console.log(1);
        }        
        </script> -->
    </body>
</html>